# 3차시 - 데이터베이스 시스템

데이터베이스 시스템은 (1)사용자 (2)데이터 언어 (3)데이터베이스 (4)데이터베이스 관리 시스템 이렇게 4가지 개념을 포괄하는 상위 개념이다. 

<img src="3_데이터베이스_시스템.assets/image-20200709123935855.png" alt="image-20200709123935855" style="zoom: 50%;" />

## 학습 목표

- 데이터베이스, 데이터베이스 관리 시스템, 데이터베이스 시스템의 차이를 이해한다.
- 데이터베이스 시스템의 구성 요소를 살펴본다.
- 데이터베이스 3단계 구조 (외부 스키마, 개념 스키마, 내부 스키마) 에 대해 알아본다.
- 데이터 언어별 특징을 알아본다.
- 데이터베이스 사용자(데이터베이스 관리자, 최종 사용자, 응용 프로그래머)별 특징을 알아본다.
- 데이터베이스 관리 시스템의 구성을 알아본다.

### 데이터베이스 시스템(DBS)의 정의

데이터베이스에 데이터를 저장하고, 이를 관리하여 조직에 필요한 정보를 생성해주는 시스템을 통칭하는 언어.

<img src="3_데이터베이스_시스템.assets/image-20200709124233099.png" alt="image-20200709124233099" style="zoom:33%;" />

### 데이터베이스의 구조

데이터베이스는 **스키마**와 **인스턴스**로 구성된다.

- 스키마: 데이터베이스에 저장되는 데이터 구조와 제약조건을 정의한 것
- 인스턴스: 스키마에 따라 데이터베이스에 실제로 저장된 값

3단계 데이터베이스 구조: 데이터베이스를 쉽게 이용하고 사용할 수 있도록 하나의 DB를 관점에 따라 3가지 단계로 나눈 것

- 외부 단계: 개별 사용자 관점
- 개념 단계: 조직 전체의 관점 : 우리가 보통 다루는 스키마는 이 개념 단계에 해당한다.
- 내부 단계: 물리적인 저장 장치의 관점

각 단계별로 다른 추상화를 제공하고, 내부 단계에서 외부 단계로 갈 수록 추상화 레벨이 높아진다.

#### 외부 단계

3단계 중 가장 추상화가 많이 되어있는 단계. 데이터베이스 하나에 외부 스키마는 **여러 개 존재**할 수 있다. 각 사용자가 생각하는 데이터베이스의 모습, 즉 논리적 구조로 사용자마다 다르다.

외부 스키마를 서브 스키마라고도 함. 전체 스키마 중 사용자에게 필요한 속성들만 들어가 있기 때문에.

#### 개념 단계

데이터베이스 하나에 개념 스키마는 **단 하나만 존재**한다.  개념 단계에서 데이터베이스 전체의 논리적 구조를 정의한 것으로, 저장될 데이터의 형식, 데이터 간의 관계, 제약조건, 보안 정책, 접근 권한에 대한 정의도 포함된다.

#### 내부 단계

데이터베이스 하나에 내부 스키마 역시 **단 하나만 존재**한다. 전체 데이터베이스가 저장 장치에 실제로 저장되는 방법을 정의한 것으로, 레코드 구조, 필드 크기, 레코드 접근 경로 등 물리적 저장 구조를 정의한다.

<img src="3_데이터베이스_시스템.assets/image-20200709125247129.png" alt="image-20200709125247129" style="zoom:33%;" />

#### 3단계 데이터베이스 구조의 매핑

**[스키마 사이의 대응 관계]**

외부/개념 사상: 외부 스키마와 개념 스키마의 대응 관계로, 응용 인터페이스라고도 한다.

개념/내부 사상: 개념 스키마와 내부 스키마의 대응 관계로, 저장 인터페이스라고도 한다.

**[왜 이렇게 단계를 나누는가?]**

단계별로 스키마를 유지하며 스키마 사이의 대응관계를 정의하는 목적은, **데이터 독립성**을 실현하기 위해서이다.

#### 데이터 독립성

하위 스키마를 변경하더라도 상위 스키마가 영향을 받지 않는 특성을 의미한다.

논리적 데이터 독립성: 개념 스키마가 변경되어도 외부 스키마는 영향을 받지 않는다.

물리적 데이터 독립성: 내부 스키마가 변경되어도 개념 스키마는 영향을 받지 않는다.

하위 스키마가 변경되어도 관련된 사상만 정확하게 수정해주면 된다.

#### 데이터 사전

시스템 카탈로그라도고 함. 데이터베이스에 저장되는 데이터에 관한 정보 (메타 데이터 - 데이터에 대한 데이터)를 유지하는 시스템 데이터베이스.

스키마, 사상 정보, 제약 조건 등을 저장하고, 사용자가 관리하는 것이 아니라 DBMS가 스스로 생성하고 유지함. 일반 사용자도 접근이 가능하지만 조작은 불가능하다.

#### 데이터 디렉토리

데이터 사전에 있는 데이터에 실제로 접근하는 데 필요한 위치 정보를 저장하는 시스템 데이터베이스. 일반 사용자의 접근은 허용되지 않는다.

#### 사용자 데이터베이스

사용자가 실제로 이용하는 데이터가 저장되어 있는 데이터베이스.

### 데이터베이스 사용자

데이터베이스를 이용하기 위해 접근하는 모든 사람으로, 이용 목적에 따라 데이터베이스 관리자, 최종 사용자, 응용 프로그래머로 나뉜다.

1) 데이터베이스 관리자 (DBA) - 데이터베이스 시스템을 운영/관리하는 사람. 주로 데이터 정의어와 데이터 제어어를 사용한다.

2) 응용 프로그래머 - 데이터 언어를 삽입하여 응용 프로그램을 작성하는 사람으로, 주로 데이터 조작어를 사용한다.

3) 최종 사용자 - 데이터베이스에 접근하여 데이터를 조작(삽입/삭제/수정/검색)하는 사람으로, 주로 데이터 조작어를 사용한다.

#### 데이터 언어

사용자와 DBMS 간의 통신 수단.

사용 목적에 따라 데이터 정의어(DDL), 데이터 조작어(DML), 데이터 제어어(DCL)로 구분한다.

데이터 정의어(DDL) : **스키마**를 정의하거나, 수정 또는 삭제하기 위해서 사용

데이터 조작어(DML) : **데이터**의 삽입/삭제/수정/검색 등의 처리를 요구하기 위해서 사용

데이터 제어어(DCL) : 내부적으로 필요한 규칙이나 기법을 정의하기 위해 사용

### 데이터베이스 관리 시스템의 주요 기능

1) 정의 기능: 데이터베이스 구조를 정의하거나 수정할 수 있다.

2) 조작 기능: 데이터를 삽입/삭제/수정/검색하는 연산을 할 수 있다.

3) 제어 기능: 데이터를 항상 정확하고 안전하게 유지할 수 있다. (사용 목적: 무결성, 보안, 회복, 동시성 제어)

### 데이터베이스 관리 시스템의 구성

데이터베이스의 관리와 사용자의 데이터 처리 요구 수행.

[주요 구성 요소]

- 질의 처리기 (query processor) : 사용자의 데이터 처리 요구를 해석하여 처리
- 저장 데이터 관리자 : 디스크에 저장된 사용자 데이터베이스와 데이터 사전을 관리하고, 실제로 접근하는 역할을 담당

<img src="3_데이터베이스_시스템.assets/image-20200709131048615.png" alt="image-20200709131048615" style="zoom:33%;" />